"use strict";(self.webpackChunkkollege=self.webpackChunkkollege||[]).push([[359],{359(e,t,r){r.r(t),r.d(t,{default:()=>p});var a=r(43),s=r(216),d=r(42),l=r(527),n=r(53),o=r(229),c=r(657),i=r(769),x=r(579);const p=()=>{const{user:e,setPaperList:t}=(0,a.useContext)(n.A),[r,p]=(0,a.useState)(""),[u,h]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{try{const t=await l.A.get("paper/manage/"+e._id);h(t.data)}catch(t){p(t)}})();return()=>(async()=>{const r=await l.A.get("paper/student/".concat(e._id));t(r.data)})()},[e,t]);const b=async(e,t,r)=>{p("");try{const a=await l.A.patch("/paper/"+e,{students:t,id:e});d.oR.success(a.data.message);const s=u.map((e,t)=>t===parseInt(r)?(e.joined=!e.joined,e):e);h(s)}catch(a){p(a)}};return(0,x.jsx)(x.Fragment,{children:"student"===e.role?(0,x.jsxs)("main",{children:[(0,x.jsx)("h2",{className:"mb-2 mt-3 whitespace-break-spaces text-4xl font-bold text-violet-950 underline decoration-inherit decoration-2 underline-offset-4 dark:mt-0 dark:text-slate-400 md:text-6xl",children:"Manage Paper"}),(0,x.jsx)("form",{children:u.length?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"my-4 w-full overflow-auto rounded-md border-2 border-slate-900 dark:border-slate-500 dark:p-[1px]",children:(0,x.jsxs)("table",{className:"w-full text-left",children:[(0,x.jsx)(o.h,{AdditionalRowClasses:"rounded-t-xl text-left",AdditionalHeaderClasses:"last:text-center",Headers:["Paper","Department","Year","Semester","Teacher","Manage"]}),(0,x.jsx)("tbody",{children:null===u||void 0===u?void 0:u.map((t,r)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"border-t-[1px] border-violet-400 dark:border-slate-400 px-4 py-2",children:t.paper}),(0,x.jsx)("td",{className:"border-t-[1px] border-violet-400 dark:border-slate-400 px-4 py-2",children:t.department}),(0,x.jsx)("td",{className:"border-t-[1px] border-violet-400 dark:border-slate-400 px-4 py-2",children:t.year}),(0,x.jsx)("td",{className:"border-t-[1px] border-violet-400 dark:border-slate-400 px-4 py-2",children:t.semester}),(0,x.jsx)("td",{className:"border-t-[1px] border-violet-400 dark:border-slate-400 px-4 py-2",children:t.teacher.name}),(0,x.jsx)("td",{className:"border-t-[1px] border-violet-400 dark:border-slate-400 p-0",children:t.joined?(0,x.jsx)("button",{className:"m-0 flex h-auto w-full justify-center bg-transparent py-3  text-lg  hover:bg-red-600 hover:text-slate-100 dark:text-slate-100 ",type:"button",id:t._id,name:r,onClick:t=>(async t=>{const r=t.currentTarget.id,a=t.target.name,s=u[a].students.filter(t=>t!==e._id);b(r,s,a)})(t),children:"Leave"}):(0,x.jsx)("button",{type:"button",id:t._id,name:r,onClick:t=>(async t=>{const r=t.currentTarget.id,a=t.target.name,s=u[a].students;s.push(e._id),b(r,s,a)})(t),className:"m-0 flex h-auto w-full justify-center bg-transparent py-3  text-lg  hover:bg-violet-900 hover:text-slate-100 dark:text-slate-100 ",children:"Join"})})]},r))})]})})}):(0,x.jsx)(c.A,{})}),r?(0,x.jsx)(i.A,{error:r}):""]}):(0,x.jsx)(s.C5,{to:"/dash"})})}}}]);
//# sourceMappingURL=359.6e090be7.chunk.js.map