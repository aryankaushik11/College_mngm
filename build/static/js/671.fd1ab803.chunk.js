"use strict";(self.webpackChunkkollege=self.webpackChunkkollege||[]).push([[671],{671(e,t,s){s.r(t),s.d(t,{default:()=>p});var r=s(43),a=s(53),l=s(216),d=s(527),o=s(369),n=s(42),c=s(657),i=s(769),x=s(229),h=s(579);const p=()=>{const{user:e}=(0,r.useContext)(a.A),[t,s]=(0,r.useState)([]),[p,m]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{try{const t=await d.A.get("staff/approve/"+e.department);s(t.data)}catch(t){m(t)}})()},[e]);return(0,h.jsx)(h.Fragment,{children:"HOD"===e.role?(0,h.jsxs)("main",{className:"staff__approval",children:[(0,h.jsx)("h2",{className:"mb-2 mt-3 whitespace-break-spaces text-4xl font-bold text-violet-950 underline decoration-inherit decoration-2 underline-offset-4 dark:mt-0 dark:text-slate-400 md:text-6xl",children:"Approve Staff"}),(0,h.jsxs)("h3",{className:"text-2xl font-semibold",children:["Department: ",e.department]}),(0,h.jsxs)("form",{children:[t.length?(0,h.jsx)("div",{className:"my-4 w-full overflow-auto rounded-md border-2 border-slate-900 dark:border-slate-500 dark:p-[1px]  ",children:(0,h.jsxs)("table",{className:"w-full",children:[(0,h.jsx)(x.h,{Headers:["Name","Email","Username","Approve","Reject"],AdditionalRowClasses:"text-left",AdditionalHeaderClasses:"last:text-center secondLast"}),(0,h.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((e,s)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{className:"border-t-[1px] border-slate-400 p-2",children:e.name}),(0,h.jsx)("td",{className:"border-t-[1px] border-slate-400 p-2",children:e.email}),(0,h.jsx)("td",{className:"border-t-[1px] border-slate-400 p-2",children:e.username}),(0,h.jsx)("td",{className:"border-t-[1px] border-slate-400 p-0",children:(0,h.jsx)("button",{type:"button",id:s,onClick:e=>(async e=>{const s=e.currentTarget.id,r=t[s];r.role="teacher";try{const e=await d.A.patch("/staff/"+r._id,{id:r._id,role:r.role});t.splice(s,1),n.oR.success(e.data.message),m("")}catch(a){m(a)}})(e),className:"m-0 flex h-auto w-full justify-center bg-transparent  py-3 text-xl duration-200 text-violet-400 hover:text-white hover:bg-violet-900 ",children:(0,h.jsx)(o.OiG,{})})}),(0,h.jsx)("td",{className:"border-t-[1px] border-slate-400 p-0",children:(0,h.jsx)("button",{className:"m-0 flex h-auto w-full justify-center bg-transparent  py-3 text-xl duration-200 text-violet-400 hover:text-white hover:bg-red-600 ",type:"button",id:s,onClick:e=>(async e=>{const s=t[e.currentTarget.id]._id;try{const r=await d.A.delete("/staff/"+s);t.splice(e.currentTarget.id,1),n.oR.success(r.data.message,{icon:e=>{let{theme:t,type:s}=e;return(0,h.jsx)(o.qbC,{})}})}catch(r){n.oR.error(r.message)}})(e),children:(0,h.jsx)(o.qbC,{})})})]},s))})]})}):"",!t.length&&!p&&(0,h.jsx)(c.A,{})]}),p?(0,h.jsx)(i.A,{error:p}):""]}):(0,h.jsx)(l.C5,{to:"/dash"})})}}}]);
//# sourceMappingURL=671.fd1ab803.chunk.js.map